<div class="panel panel-custom">
  <div class="panel-heading">
      <div class="row">
        <div class="col-xs-6">
          <h2><%= cluster.name %></h2>
          <p>
            <% if cluster.group %>
              Assigned to: <%= cluster.group.name %>
            <% else %>
              Not assigned
              <%= link_to render_groups_path(cluster_id: cluster.id), remote: true, data: { toggle: "modal", target: ".modal"} do %>
                <button type="button" class="btn btn-info btn-sm"><strong>assign</strong></button>
              <% end %>
            <% end %>
          </p>
        </div>
        <div class="col-xs-6 text-right">
          <h4 id = "cluster-<%= cluster.uuid %>">
            <%= cluster.state %>
          </h4>
        </div>
      </div>
  </div>
  <div id="<%= cluster.uuid %>" class="panel-collapse collapse" aria-expanded="false">
    <div class="panel-body">
      <div class="row">
           <div class="col-md-4 col-xs-12 specs">
               <h3 class="text-primary"><strong>Master <small>x<%= cluster.master_num %></small></strong></h3>
               <% master_image = Image.find(cluster.master_image) %>
               <p class="text-info"><strong><%= master_image.name %></strong></p>

               <% master_flavor = Flavor.find(cluster.master_flavor) %>
               <p class="text-info"><strong><%= master_flavor.vcpus %></strong> VCPUs</p>
               <p class="text-info"><strong><%= master_flavor.ram   %>GB</strong> RAM</p>
               <p class="text-info"><strong><%= master_flavor.disk  %>GB</strong> HDD</p>
           </div>
           <div class="col-md-4 col-xs-12 specs">
              <h3 class="text-primary">
                <strong>Slave
                  <small>
                    x<%= cluster.slave_num %>
                    <% if cluster.slave_on_master %>
                      + slave on master
                    <% end %>
                  </small>
                </strong>
              </h3>
               <% slave_image = Image.find(cluster.slave_image) %>
               <p class="text-info"><strong><%= slave_image.name %></strong></p>

               <% slave_flavor = Flavor.find(cluster.slave_flavor) %>
               <p class="text-info"><strong><%= slave_flavor.vcpus %></strong> VCPUs</p>
               <p class="text-info"><strong><%= slave_flavor.ram   %>GB</strong> RAM</p>
               <p class="text-info"><strong><%= slave_flavor.disk  %>GB</strong> HDD</p>
           </div>
           <div class="col-md-4 col-xs-12">
                <h3 class="text-primary"><strong>Frameworks: </strong></h3>
                <ul class="list-unstyled" id="framework-list">
                  <% cluster.cluster_frameworks.all.each do |f| %>
                    <% framework = Framework.find(f.framework_id) %>
                    <% link = 'http://'+cluster.external_ip.to_s+framework.port %>
                    <li><h4><%= link_to framework.name.capitalize, link, class: check_link(link), target: "blank" %></h4></li>
                  <% end %>
                </ul>
           </div>
        </div>
      </div>
    </div>
    <div class="panel-footer">
      <a href="#<%= cluster.uuid %>" data-toggle="collapse" data-parent="#accordion" aria-expanded="false" class="collapsed">
          <span class="pull-left">View details</span>
          <span class="pull-right">
            <i class="fa fa-arrow-circle-right"></i>
          </span>
          <span class="clearfix"></span>
      </a>
    </div>
</div>
