<% if @infrastructure_id.to_i > 0 %>
    <%= form_for :cluster, url: create_path, remote: true, html: {role: "role", id: "cluster-form"} do |f| %>
        <%= f.hidden_field :infrastructure_id, :value => @infrastructure_id %>
        <%= f.label(:password, "Password") %>
        <div class="form-group">
            <%= f.password_field(:password, placeholder: "Enter infrastructure password", class: 'form-control') %>
        </div>
        <%= f.label(:cluster_name, "Cluster Name") %>
        <div class="form-group">
            <%= f.text_field(:name, placeholder: "Enter name", class: 'form-control') %>
        </div>
        <%= f.label(:master, "Master") %>
        <div class="form-group input-group">
            <span class="input-group-addon">#</span>
            <%= f.select(:master_num, options_for_select((1..10).map { |i| [i, i] }), {}, {class: 'form-control'}) %>
            <span class="input-group-addon">Image</span>
            <%= f.select(:master_image, options_for_select(@imgs.map { |image| [image[:name], image[:img_id]] }), {}, {class: 'form-control'}) %>
            <span class="input-group-addon">Flavor</span>
            <%= f.select(:master_flavor, options_for_select(@flvs.map { |flavor| [flavor[:name], flavor[:fl_id]] }), {}, {class: 'form-control'}) %>
        </div>
        <%= f.label(:slave, "Slave") %>
        <div class="form-group input-group">
            <span class="input-group-addon">#</span>
            <%= f.select(:slave_num, options_for_select((1..10).map { |i| [i, i] }), {}, {class: 'form-control'}) %>
            <span class="input-group-addon">Image</span>
            <%= f.select(:slave_image, options_for_select(@imgs.map { |image| [image[:name], image[:img_id]] }), {}, {class: 'form-control'}) %>
            <span class="input-group-addon">Flavor</span>
            <%= f.select(:slave_flavor, options_for_select(@flvs.map { |flavor| [flavor[:name], flavor[:fl_id]] }), {}, {class: 'form-control'}) %>
        </div>
        <h5>
            Slave node on Master node?
            <%= f.check_box(:slave_on_master) %>
        </h5>
        <%= f.label(:network, "Network") %>
        <div class="form-group input-group">
            <span class="input-group-addon">Configuration</span>
            <select class="form-control">
                <option>Default</option>
                <option>User configuration 1</option>
                <option>User configuration 2</option>
            </select>
        </div>
        <%= f.label(:access, "Access") %>
        <div class="form-group input-group">
            <span class="input-group-addon">Key</span>
            <select type="text" class="form-control">
                <option>Choose Access Key</option>
                <option>SSH-1</option>
                <option>SSH-2</option>
                <option>SSH-3</option>
            </select>
        </div>
        <%= f.label(:frameworks, "BIG Data frameworks") %>
        <div class="form-group">
            <div class="checkbox"><label><input type="checkbox">Spark (recommended)</label></div>
            <div class="checkbox"><label><input type="checkbox">Hadoop</label></div>
            <div class="checkbox"><label><input type="checkbox">Zeppelin</label></div>
            <div class="checkbox"><label><input type="checkbox">Jupyter</label></div>
        </div>

        <div class="modal-footer">
            <%= f.submit "Create", class: "btn btn-success" %>
        </div>
    <% end %>
<% end %>
